<!DOCTYPE html>
<html lang="en">
<!-- Head Tag Include -->
<%- include("../partials/head-tag-partial.ejs") %>
<!-- Head Tag Include -->

<!-- Header Include -->
<%- include("../partials/header-partial.ejs") %>
<!-- Header Include -->

<body class="d-flex flex-column min-vh-100">
    <div id="app">
        <div class="container self-font-family">
            <!-- Book Modifier -->
            <div class="row mt-5">
                <div class="col-12 p-5">
                    <h3>Book</h3>
                    <label class="pt-3">Action</label>
                    <select class="form-select" v-model="action">
                        <option disabled value="default">-- Select an Action --</option>
                        <option value="insert">Insert Data</option>
                        <option value="delete">Delete Data</option>
                        <option value="update">Update Data</option>
                    </select>
                    <template v-if="action == 'insert'">
                        <label class="pt-3">Book Name</label>
                        <input class="form-control" type="text" v-model="name">
                        <label class="pt-3">Cover Image</label>
                        <input class="form-control" type="text" v-model="image">
                        <label class="pt-3">Author | Added Author: 
                        [<span v-for="author in authors">
                            {{ author }},
                        </span>]
                        </label>
                        <input class="form-control" type="text" v-model="author">
                        <button class="form-control btn btn-primary mt-3" @click="addAuthor">Add Author</button>
                        <button class="form-control btn btn-primary mt-3" @click="clearAuthor">Clear Author</button>
                        <label class="pt-3">Price</label>
                        <input class="form-control" type="text" v-model="price">
                        <label class="pt-3">Publisher</label>
                        <input class="form-control" type="text" v-model="publisher">
                        <label class="pt-3">Story</label>
                        <textarea class="form-control" type="text" v-model="story"></textarea>
                        <label class="pt-3">Synopsis</label>
                        <textarea class="form-control" type="text" v-model="synopsis"></textarea>
                        <button class="form-control btn btn-primary mt-3" @click="insertData">Insert Data</button>
                    </template>
                    <template v-if="action == 'delete'">
                        <label class="pt-3">Item</label>
                        <input class="form-control" type="text" v-model="searchName">
                        <select class="form-select mt-3" v-model="bookToDelete">
                            <option disabled value="default">-- Select a Data --</option>
                            <template v-for="data in searchedCollection">
                                <option :value="data.id">{{ data.publisher }} | {{ data.name }}</option>
                            </template>
                        </select>
                        <button class="form-control btn btn-primary mt-3" @click="deleteData">Delete Data</button>
                    </template>
                    <template v-if="action == 'update'">
                        <label class="pt-3">Item</label>
                        <input class="form-control" type="text" v-model="updateSearchName">
                        <select class="form-select mt-3" v-model="bookToUpdate">
                            <option disabled value="default">-- Select a Data --</option>
                            <template v-for="data in updateSearchedCollection">
                                <option :value="data.id">{{ data.publisher }} | {{ data.name }}</option>
                            </template>
                        </select>
                        <label class="pt-3">Book Name</label>
                        <input class="form-control" type="text" v-model="updateName">
                        <label class="pt-3">Cover Image</label>
                        <input class="form-control" type="text" v-model="updateImage">
                        <label class="pt-3">Author | Added Author: 
                        [<span v-for="updateAuthor in updateAuthors">
                            {{ updateAuthor }},
                        </span>]
                        </label>
                        <input class="form-control" type="text" v-model="updateAuthor">
                        <button class="form-control btn btn-primary mt-3" @click="addUpdateAuthor">Add Author</button>
                        <button class="form-control btn btn-primary mt-3" @click="clearUpdateAuthor">Clear Author</button>
                        <label class="pt-3">Price</label>
                        <input class="form-control" type="text" v-model="updatePrice">
                        <label class="pt-3">Publisher</label>
                        <input class="form-control" type="text" v-model="updatePublisher">
                        <label class="pt-3">Story</label>
                        <textarea class="form-control" type="text" v-model="updateStory"></textarea>
                        <label class="pt-3">Synopsis</label>
                        <textarea class="form-control" type="text" v-model="updateSynopsis"></textarea>
                        <button class="form-control btn btn-primary mt-3" @click="updateData">Update Data</button>
                    </template>
                </div>
            </div>
            <!-- Book Modifier -->
        </div>
    </div>

    <!-- Footer Include -->
    <%- include("../partials/footer-partial.ejs") %>
    <!-- Footer Include -->

</body>
<!-- Vue Include -->
<%- include("../vues/admin-book-modifier-vue.ejs") %>
<!-- Vue Include -->
</html>