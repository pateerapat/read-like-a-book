<script>
    var app = new Vue({
        el: '#app',
        data: {
            userPoint: JSON.parse(`<%= userData.user_point %>`),
            total: JSON.parse(`<%= total %>`),
            isUseStar: false,
            useStar: 0,
        },
        computed: {
            summary() {
                if (this.isUseStar) {
                    if (this.userPoint >= this.useStar) {
                        if (this.total - this.useStar < 0) {
                            this.useStar = this.total;
                            return 0;
                        }
                        return this.total - this.useStar;
                    } else {
                        this.useStar = this.userPoint;
                        return this.total - this.userPoint;
                    }
                } else {
                    this.useStar = 0;
                    return this.total;
                }
            },
        }
    });
</script>